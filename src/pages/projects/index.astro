---
import Card from "@components/Card.astro";
import PageLayout from "@layouts/PageLayout.astro";
import { getCollection } from "astro:content";

const allProjects = await getCollection("projects");
---
<PageLayout pageTitle="Projects â€” mioi">
    <h1 class="text-3xl">Projects</h1>
    <div class="flex flex-col">
        {allProjects.sort((a, b) => a.data.date < b.data.date ? 1 : -1).map(project =>
        <Card title={project.data.title} link={`projects/${project.slug}`}>
            <img src={project.data.headerImage} class="m-auto w-full h-auto max-w-[800px]">
            <p class="my-2">
                {project.data.description}
            </p>
        </Card>
        )}
    </div>
</PageLayout>